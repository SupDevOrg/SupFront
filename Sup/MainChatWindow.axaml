<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="720"
        x:Class="Sup.MainChatWindow"
        Title="Sup"
        MinWidth="1180"
        MinHeight="700">
  <Grid>
    <Grid Background="{StaticResource AppBackgroundBrush}">
      <Grid Margin="32" ColumnDefinitions="400,*">
        <Border Grid.Column="0"
                Margin="0,0,24,0"
                Background="{StaticResource SurfaceBrush}"
                CornerRadius="{StaticResource CardCornerRadius}"
                Padding="28"
                Effect="{StaticResource SoftShadowEffect}">
          <Grid RowDefinitions="Auto,*,Auto">
            <Border x:Name="LeftSearchPanel"
                    Background="{StaticResource SurfaceAltBrush}"
                    CornerRadius="{StaticResource ControlCornerRadius}"
                    Padding="20"
                    Margin="0,0,0,40">
              <StackPanel Spacing="16">
                <StackPanel Spacing="4">
                  <TextBlock Text="Диалоги" Classes="title"/>
                  <TextBlock Text="Управляйте вашими чатами и открывайте новые" Classes="muted"/>
                </StackPanel>
                <Button x:Name="SearchUsersButton" Content="Поиск пользователей" Classes="outlined"/>
                <TextBox x:Name="DialogsSearchTextBox" Watermark="Поиск среди ваших диалогов..."/>
              </StackPanel>
            </Border>

            <Border Grid.Row="1"
                    Background="{StaticResource SurfaceAltBrush}"
                    CornerRadius="{StaticResource ControlCornerRadius}"
                    Padding="12"
                    Margin="0,0,0,24">
              <ListBox x:Name="UsersListBox" MinHeight="360"/>
            </Border>

            <Border Grid.Row="2"
                    Background="{StaticResource SurfaceAltBrush}"
                    CornerRadius="{StaticResource ControlCornerRadius}"
                    Padding="20">
              <Grid ColumnDefinitions="*,Auto" VerticalAlignment="Center">
                <StackPanel Spacing="4" HorizontalAlignment="Left">
                  <TextBlock x:Name="UserNameLabel" Text="user" FontSize="18" FontWeight="SemiBold"/>
                  <TextBlock Text="В сети" Classes="muted"/>
                </StackPanel>
                <Button Grid.Column="1" x:Name="SettingsButton" Content="Настройки" Classes="outlined" HorizontalAlignment="Right"/>
              </Grid>
            </Border>
          </Grid>
        </Border>

        <Border Grid.Column="1"
                Margin="24,0,0,0"
                Background="{StaticResource SurfaceBrush}"
                CornerRadius="{StaticResource CardCornerRadius}"
                Padding="32"
                Effect="{StaticResource SoftShadowEffect}">
          <Grid>
            <Grid x:Name="MainPanels" RowDefinitions="*,Auto">
              <StackPanel x:Name="ChatPanel" Spacing="20" Grid.Row="0">
                  <StackPanel Spacing="4">
                    <TextBlock x:Name="ChatUserName" Text="Имя пользователя" FontSize="22" FontWeight="SemiBold"/>
                    <TextBlock Text="История ваших сообщений" Classes="muted"/>
                  </StackPanel>

                <Border Padding="12" Height="420">
                  <ListBox x:Name="MessagesListBox"/>
                </Border>

                <Grid ColumnDefinitions="*,Auto">
                  <TextBox Grid.Column="0" x:Name="MessageTextBox" Watermark="Введите сообщение..." VerticalAlignment="Center"/>
                  <Button Grid.Column="1" x:Name="SendMessageButton" Content="Отправить" MinWidth="100" Margin="12,0,0,0" VerticalAlignment="Center"/>
                </Grid>
              </StackPanel>

              <Grid x:Name="GlobalSearchPanel" RowDefinitions="Auto,Auto,*,Auto" IsVisible="False">
                <StackPanel Orientation="Horizontal" Spacing="12" Grid.Row="0" Margin="0,0,0,16">
                  <Button x:Name="BackToChatButton" Content="Назад" Classes="outlined" Width="140"/>
                  <TextBlock Text="Глобальный поиск" Classes="title" VerticalAlignment="Center"/>
                </StackPanel>

                <TextBox x:Name="SearchGlobalTextBox" Watermark="Введите имя для поиска" Grid.Row="1" Margin="0,0,0,16"/>

                <Border Grid.Row="2" Background="{StaticResource SurfaceAltBrush}" CornerRadius="{StaticResource ControlCornerRadius}" Padding="12" Margin="0,0,0,16">
                  <ListBox x:Name="GlobalUsersListBox"/>
                </Border>

                <Border Grid.Row="3" Background="{StaticResource SurfaceAltBrush}" CornerRadius="{StaticResource ControlCornerRadius}" Padding="16,12">
                  <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="16">
                    <Button x:Name="PrevPageButton" Content="← Назад" Classes="outlined" IsEnabled="False" MinWidth="140"/>
                    <TextBlock x:Name="PageInfoText" Text="Страница 1 из 1" VerticalAlignment="Center"/>
                    <Button x:Name="NextPageButton" Content="Вперед →" IsEnabled="False" MinWidth="140"/>
                  </StackPanel>
                </Border>
              </Grid>
            </Grid>
          </Grid>
        </Border>

        <Border x:Name="SettingsPanel"
                Grid.Column="0"
                Background="{StaticResource SurfaceBrush}"
                CornerRadius="{StaticResource CardCornerRadius}"
                Padding="28"
                Effect="{StaticResource SoftShadowEffect}"
                Margin="0,0,24,0"
                IsVisible="False">
          <StackPanel Spacing="16">
            <StackPanel Orientation="Horizontal" Spacing="12">
              <Button x:Name="BackFromSettingsButton" Content="Назад" Classes="outlined" Width="120"/>
              <TextBlock Text="Настройки" Classes="title" VerticalAlignment="Center"/>
            </StackPanel>
            <Button x:Name="VoiceSettingsButton" Content="Голосовые настройки"/>
          </StackPanel>
        </Border>

        <Border x:Name="VoicePanel"
                Grid.Column="1"
                CornerRadius="{StaticResource CardCornerRadius}"
                Padding="32"
                Margin="32"
                IsVisible="False">
          <StackPanel Spacing="18">
            <TextBlock Text="Аудио" Classes="title"/>

            <StackPanel Spacing="8">
              <TextBlock Text="Микрофон" Classes="caption"/>
              <ComboBox x:Name="MicrophoneComboBox"/>
            </StackPanel>

            <StackPanel Spacing="8">
              <TextBlock Text="Звук" Classes="caption"/>
              <ComboBox x:Name="AudioOutputComboBox"/>
            </StackPanel>

            <Border Padding="20,40" ClipToBounds="False" MinHeight="120">
              <Grid ColumnDefinitions="Auto,*" ColumnSpacing="16">
                <Button x:Name="TestVoiceButton" Content="Проверить голос" Width="200" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" Spacing="8" VerticalAlignment="Stretch" ClipToBounds="False">
                  <TextBlock Text="Громкость с микрофона" Classes="caption"/>
                  <Border Margin="0,24,0,24" ClipToBounds="False">
                    <Slider x:Name="VoiceVolumeSlider" IsEnabled="False" Minimum="0" Maximum="100" Value="0" TickFrequency="10"/>
                  </Border>
                </StackPanel>
              </Grid>
            </Border>
          </StackPanel>
        </Border>
      </Grid>
    </Grid>
  </Grid>
</Window>
